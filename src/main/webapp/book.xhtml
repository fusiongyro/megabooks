<?xml version='1.0' encoding='UTF-8' ?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets">
<ui:composition template="resources/template.xhtml">
    <ui:define name="title">#{bookUI.book.title}</ui:define>

    <div class="modal fade" id="myModal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
                    <h4 class="modal-title">Check Out <em>#{bookUI.book.title}</em></h4>
                </div>
                <h:form>
                    <div class="modal-body">
                        <div class="form-group has-feedback #{!name.valid ? 'has-error' : ''}">
                            <h:outputLabel for="name">Name</h:outputLabel>
                            <h:inputText id="name" value="#{checkoutForm.name}" styleClass="form-control"/>
                            <ui:fragment rendered="#{!name.valid}">
                                <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                            </ui:fragment>
                            <h:message for="name"/>
                        </div>
                        <div class="form-group has-feedback #{!email.valid ? 'has-error' : ''}">
                            <h:outputLabel for="email">Email</h:outputLabel>
                            <h:inputText value="#{checkoutForm.email}" styleClass="form-control" id="email" placeholder="you@somewhere.com"/>
                            <ui:fragment rendered="#{!email.valid}">
                                <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                            </ui:fragment>
                            <h:message for="email"/>
                        </div>
                        <div class="form-group has-feedback #{!phone.valid ? 'has-error' : ''}">
                            <h:outputLabel for="phone">Phone</h:outputLabel>
                            <h:inputText value="#{checkoutForm.phone}" styleClass="form-control" id="phone" placeholder="(555) 555-1234"/>
                            <ui:fragment rendered="#{!phone.valid}">
                                <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                            </ui:fragment>
                            <h:message for="phone"/>
                        </div>
                        <h:commandButton styleClass="btn btn-default" action="#{checkoutForm.checkout}" value="Submit"/>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary">Save changes</button>
                    </div>
                </h:form>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <div class="col-md-6" style="text-align: right">
        <h:graphicImage styleClass="img-thumbnail" value="#{bookUI.book.imageUrl.toExternalForm()}" style="max-width: 600px; max-height: 600px;"/>
    </div>
    <div class="col-md-6">
        <h1>#{bookUI.book.title}</h1>
        <h2>#{bookUI.book.author}</h2>
        <h3>#{bookUI.book.isbn}</h3>
        <h3>#{bookUI.book.ddc}</h3>

        <button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
            Check Out
        </button>
    </div>
</ui:composition>
</html>
